<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Lab 2</title>
        <link rel="stylesheet" href="lab2.css">
        <!--Style Starts-->
        <style>
            body{
                text-align: center;
            }
            form{
                padding-top: 10%;
                padding-left:40%;
                padding-right:10%;
                display: inline-block;
                margin-left: auto;
                margin-right: auto;
            }
            .form{
                display: block;
                text-align: left;
            }
        </style>
        <!--Style Ends-->

        <!--Script Starts-->
        <script>
            var output;
            
            //form submission time
            function buttonClicked()
            {
                var MessageResults = document.getElementById("MessageResults");
                var studIDresults = document.getElementById("studIDresults");
//-------------------------------------TOTAL RESULTS----------------------------------------
            var valtotalResults = document.getElementById("totalResults").value;
            var validtotalResults = false;
            if (validusername && validstudIDLength && validSemester && validLength == true)
            {
                totalResults.innerHTML = "SUCCESS";
            }
            else
            {
                totalResults.innerHTML = "FAILIURE";
            }
        
//------------------------------------------------------------------------------------------
                //Username
                //determine if text only contains only lower-case letters
                var valusername = document.getElementById("username").value;
                var validusername = false;
                for (var i = 0; i < valusername.length; i++)
                {                                                  //how to make spaces not count as lower case letters ??
                    if ( valusername.charCodeAt(i) > 97 || valusername.charCodeAt < 12)   ///I think toLowerCase() would be better as it checks for num aswell as lower 2 birds 1 stone ?
                    {
                        validusername = true;
                    }
                    else 
                    {
                        validusername = true;
                    
                    }
                }
                
                if (validusername)
                    {
                        usernameResults.innerHTML = "Username Success";
                    }
                    else
                    {
                        usernameResults.innerHTML = "Username Failiure";
                    }


//------------------------------------------------------------------------------------------
                //Password
                //detemine if password contains at least one  upper, lower case letters, and a number if so write success else write failiure
                //var valpass = document.getElementById("password").value;
                //var sawPassUpper = false;
                //var sawPassLower = false;
                //var sawPassNumber = false;
                //var upperFoundPass = valpass.indexOf("");
                //var lowerFoundPass = valpass.indexOf("");
                //var numberFoundPass = valpass.indexOf("");
                //for (var i = 0; i < valpass.length; i++)


//------------------------------------------------------------------------------------------   
                //Student ID
                //determine if thee text contains only letters and 9 digits long
                var valstudID = document.getElementById("studID").value;
                var validstudIDLength = false;

                var keyCode = valstudID.keyCode;
                var keyChar = String.fromCharCode(keyCode);
               
              

                for (var i = 0; i < valstudID.length; i++)
                {
                    if (valstudID.length === 9) {
                        var charCode = valstudID.charCodeAt(i);
                         if (charCode < 48 || charCode > 57)  //I tried !isNaN(valstudID.charAt(i) but it would only validate once
                        {
                            validstudIDLength = false;
                        }
                        else
                        {
                            validstudIDLength = true;
                        }
                    }

                    else {
                        validstudIDLength = false;
                    }
                }

                if (validstudIDLength)
                    {
                        studIDresults.innerHTML = "Student ID Success";
                    }
                    else
                    {
                        studIDresults.innerHTML = "Student ID Failiure";
                    }



//------------------------------------------------------------------------------------------
                //Start Semester and Year
                //if semester starts with "Fall" or "Summer" or "Spring" and ends with 2/4-digit year write success else write failiure
                //Loop method
                //for (var i = 0;)
                var valstartSemester = document.getElementById("startSemester").value;
                var validSemester = false;
             /*   for (var i = 0; i < valstartSemester.length; i++)
                {
                    if (valstartSemester.charAt(i) === "F" || "S" || "S" && charAt(i) ===)
                    {
                        validSemester = true;
                    }
                    else if (valstartSemester.charAt(i) != .toUpperCase)
                    {

                    }
                    else
                    {
                        validSemester = false;
                    }
                }



//------------------------------------------------------------------------------------------
                */
                //Enter Message, if message has at most 25 write success
                //potential error with double back to back spacing but ok for now without regex
                //tried using numwords instead (ask if user must type in or can copy paste ?)
                var valtextArea = document.getElementById("theTextArea").value;
                var  validLength = false;
                for (var i = 0; i < valtextArea.length; i++)
                {
                    if (valtextArea.length <= 25)
                    {
                       validLength = true
                    }
                    else
                    {
                        validLength = false
                    }
                }

                if (validLength)
                    {
                        MessageResults.innerHTML = "Message Success";
                    }
                    else
                    {
                        MessageResults.innerHTML = "Message Failiure";
                    }

            } //end of buttonClicked


            // Function for Message
            function keyPressed(event)
            {
                var keyCodePressed = event.which || event.keyCode;
                if (keyCodePressed === 8)
                {
                    var MessageResults = document.getElementById("MessageResults");

                }
                //Message Area
                var currText = document.getElementById("theTextArea").value;
                var words = currText.split(" ");
                var numWords = words.length;
                document.getElementById("numwords").innerHTML = numWords;

                //StuenID Area
                var currId = document.getElementById("password").value;
                var ids = currId.split(" ");
                var numIds = ids.length;
                document.getElementById("numIds").innerHTML = numIds;
                
            }

            //Function for start
            function start()
            {
                document.getElementById("Submitbutton").addEventListener("click",buttonClicked);

                output = document.getElementById("studIDresults");

                document.getElementById("theTextArea").addEventListener("keydown", keyPressed);
                
                document.getElementById("studID").addEventListener("keydown", keyPressed);

                //document.getElementById("startSemester").addEventListener("keydown", keyPressed);

                document.getElementById("username").addEventListener("keydown", keyPressed);
            }

            window.addEventListener("load",start);  // initialize function when page loads
        </script>
        <!--script ends-->
    </head>

    <body>
         <!--<form class = "form" method ="get">-->
        <form method ="get">
            <label for="username">Username: <input type="text" id="username" name ="username"><br></label><br>
            
            <label for="password">Password:  <input type="password" id="password" name ="password"><br></label><br>
            
            <label for="studID">Student ID: <input type="text" id="studID" name ="studID"><br></label><br>

            <label>Start Semester and Year: <input  id="startSemester"></input><br></label><br>

            <label>Enter Message Here: <textarea id="theTextArea"></textarea><br></label><br>

            <button type="button" id="Submitbutton" name="button" onclick="buttonClicked()">Submit</button>
        </form>
        <hr>
        <strong>Result (S or F)</strong><br><br>
        <div id="MessageResults"></div><br>
        <div id="studIDresults"></div><br>
        <div id="semesterResults"></div><br>
        <div id="usernameResults"></div><br>
        <hr>
        Number of message words: <span id="numwords"></span>
        <br> <br>

        <hr>
        <strong>All forms Results<br><div id="totalResults"></div></strong>
    </body>
</html>