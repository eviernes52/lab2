<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Lab 2</title>
        <!--Style Starts-->
        <style>
            body{
                text-align: center;
                font-size: x-large;
            }
            form{
                text-align: left;
                padding-top: 10%;
                padding-left:20%;
                padding-right:20%;
                display: inline-block;
                margin-left: auto;
                margin-right: auto;
            }
            .form{
                display: block;
                text-align: left;
            }
            .bgred { 
                background-color: #f23636;
            }
            .bgnone{
                background-color: #ffffff;
            }
            .visible{                            
                display: block;
                color: rgba(17, 9, 153, 0.933);
            }
            
            .invisible{
                display: none;
            }
            button{
                text-align: center;
                display: block;
                margin-left: auto;
                margin-right: auto;
            }
        </style>
        <!--Style Ends-->

        <!--Script Starts-->
        <script>
            var output;
            
            //form submission time
            function buttonClicked()
            {
                var theBody = document.getElementById("theBody");
                var MessageResults = document.getElementById("MessageResults");
                var studIDresults = document.getElementById("studIDresults");

                //Username
                //determine if text only contains only lower-case letters
                var valusername = document.getElementById("username").value;
                var validusername = false;
                for (var i = 0; i < valusername.length; i++)
                {                                                  
                    //var userChar = valusername.charCodeAt(i);
                    if (valusername.charCodeAt(i) < 97 || valusername.charCodeAt(i) > 122)   //To lower doesnt work used unicode similar to userID from https://www.ssec.wisc.edu/~tomw/java/unicode.html
                    {

                        validusername = false;
                        break;
                    }
                    else if (valusername.charCodeAt(i) > 96 && valusername.charCodeAt(i) < 123)
                    {
                        if (valusername.charCodeAt(i) < 97 || valusername.charCodeAt(i) > 122)   //To lower doesnt work used unicode similar to userID from https://www.ssec.wisc.edu/~tomw/java/unicode.html
                        {

                        validusername = false;
                        break;
                        }
                        else
                        {
                            validusername = true;
                        }
                    }
                    else{
                        validusername = false;
                        break;

                    }
                }
                
                if (validusername)
                    {
                        console.log(valusername);
                        usernameResults.innerHTML = "Username Success";
                        usernameResults.setAttribute("class", "invisible");
                    }
                    else
                    {
                        usernameResults.innerHTML = "Username Failiure";
                        usernameResults.setAttribute("class", "visible");
                    }
//------------------------------------------------------------------------------------------
                //Password
                //detemine if password contains at least one  upper, lower case letters, and a number if so write success else write failiure
                var valpass = document.getElementById("password").value;
                var validpass = false;
                var validLowerpass = false;
                var validUpperpass = false;
                var validNumpass = false;

                for (var i = 0; i < valpass.length; i++)
                {
                    var passChar = valpass.charAt(i);   //checks if each character is a number, upper, or lower case letter if all 3 are true then password is valid
                    if (passChar >= '0' && passChar <= '9')  
                    {          
                        validNumpass = true;  
                    }                       
                    else if (passChar >= 'A' && passChar <= 'Z') 
                        {
                            validUpperpass = true;
                        }
                    else if (passChar >= 'a' && passChar <= 'z')
                            {
                                validLowerpass = true;
                            }
                }   

                if (validNumpass && validUpperpass && validLowerpass)
                {
                    validpass = true;
                }
                else
                {
                    validpass = false;
                }

                if (validpass)
                {
                    passwordResults.innerHTML = "Password Success";
                    passwordResults.setAttribute("class", "invisible");
                }
                else
                {
                    passwordResults.innerHTML = "Password Failiure";
                    passwordResults.setAttribute("class", "visible");
                }


//------------------------------------------------------------------------------------------   
            //Student ID
            var valstudID = document.getElementById("studID").value;
            var validstudIDLength = false;
                if (valstudID.length === 9) {
                    for (var i = 0; i < valstudID.length; i++) {    //declare loop scanning through all studID characters
                    var idChar = valstudID.charAt(i);                //declare variable for each character in studID
                        if (idChar >= '0' && idChar <= '9')         //I tried !isNaN(valstudID.charAt(i) but it would only validate once
                        {                                           //basically copied the keycode keychar example from class and repalced isNaN
                            validstudIDLength = true;
                        }
                        else
                        {
                            validstudIDLength = false;
                            break;
                        }
                    }
                }
                else {
                    validstudIDLength = false;
                }
                //basic loop for if validation is true or false to print out intnernalHTML message
                if (validstudIDLength)
                    {
                        studIDresults.innerHTML = "Student ID Success";
                        studIDresults.setAttribute("class", "invisible");
                    }
                    else
                    {
                        studIDresults.innerHTML = "Student ID Failiure";
                        studIDresults.setAttribute("class", "visible");
                    }
//------------------------------------------------------------------------------------------
                //Start Semester and Year
                //if semester starts with "Fall" or "Summer" or "Spring" and ends with 2/4-digit year write success else write failiure
                var valstartSemester = document.getElementById("startSemester").value;
                var valstartYear = document.getElementById("startYear").value;
                var validSemester = false;
                var validYear = false;

                for (var i = 0; i < valstartSemester.length; i++)
                {
                    if (valstartSemester.length == 4 && valstartSemester.charAt(0) === "F" && valstartSemester.charAt(1) === "a" && valstartSemester.charAt(2) === "l" && valstartSemester.charAt(3) === "l")
                    {
                        validSemester = true;
                    }
                    else if (valstartSemester.length == 6 && valstartSemester.charAt(0) === "S" && valstartSemester.charAt(1) === "u" && valstartSemester.charAt(2) === "m" && valstartSemester.charAt(3) === "m" && valstartSemester.charAt(4) === "e" && valstartSemester.charAt(5) === "r")
                    {
                        validSemester = true; 
                    }
                    else if (valstartSemester.length == 6 && valstartSemester.charAt(0) === "S" && valstartSemester.charAt(1) === "p" && valstartSemester.charAt(2) === "r" && valstartSemester.charAt(3) === "i" && valstartSemester.charAt(4) === "n" && valstartSemester.charAt(5) === "g")
                    {
                        validSemester = true;
                    }
                    else
                    {
                        validSemester = false;
                    }
                }

                if (validSemester)
                {
                    semesterResults.innerHTML = "Semester Success";
                    semesterResults.setAttribute("class", "invisible");

                }
                else
                {
                    semesterResults.innerHTML = "Semester Failiure";
                    semesterResults.setAttribute("class", "visible");
                }
//-------------------------------------YEAR------------------------------------------------------
                // for the year I set my 2 digit lowest year limit as 00 and highest as 23 
                // and my 4 digit lowest year limit as 2000 and highest as 2023 to be consitant 
                for (var i = 0; i < valstartYear.length; i++)
                {
                    if (valstartYear.length == 4)
                    {
                        if (valstartYear.charAt(0) === '2' && valstartYear.charAt(1) === '0' && valstartYear.charAt(2) <= '2' && valstartYear.charAt(2) >= '0'  && valstartYear.charAt(3) <= '3' && valstartYear.charAt(3) >= '0')
                        {
                            validYear = true;
                        }   
                        else
                        {
                        validYear = false;
                        }
                    }
                    else if (valstartYear.length === 2){
                       if (valstartYear.charAt(0) >= '0' && valstartYear.charAt(0) <= '1' && valstartYear.charAt(1) >= '0' && valstartYear.charAt(1) <= '9') 
                       {
                        validYear = true;
                       }
                       else if  (valstartYear.charAt(0) === '2' && valstartYear.charAt(1) >= '0' && valstartYear.charAt(1) <= '3')
                       {
                        validYear = true;
                       }
                       else
                       {
                        validYear = false;
                       }
                    }
                    else
                    {
                        validYear = false;
                    }
                }

                if (validYear)
                {
                    startYearResults.innerHTML = "Year Success";
                    startYearResults.setAttribute("class", "invisible");
                }
                else
                {
                    startYearResults.innerHTML = "Year Failiure";
                    startYearResults.setAttribute("class", "visible");
                }
//-------------------------------------TOTAL RESULTS----------------------------------------
            var valtotalResults = false;
            if (validusername && validstudIDLength && validpass && validSemester && validYear) {
                valtotalResults = true;
            } else {
                valtotalResults = false;
            }

            if (valtotalResults) {
                totalResults.innerHTML = "SUCCESS";
                theBody.setAttribute("class", "bgnone"); //change color of total results if all success
                
            } else {
                totalResults.innerHTML = "FAILURE";
            //change color of total results if any failiure
            theBody.setAttribute("class", "bgred"); //change color of total results if any failiures
            }
     } //end of buttonClicked
//-------------------------------------END of button Clicked Function----------------------------------------
            // Function for Message
            function keyPressed(event)
            {
                var keyCodePressed = event.which || event.keyCode;
                if (keyCodePressed === 8)
                {
                    var MessageResults = document.getElementById("MessageResults");

                }
                //Message Area
                var currText = document.getElementById("theTextArea").value;
                var words = currText.split(" ");
                var numWords = words.length;
                document.getElementById("numwords").innerHTML = numWords;
                var messageValid
                if (numWords > 25 || numWords < 1)
                    {
                         messageValid = false;
                         document.getElementById("theTextArea").disabled = true;
                    }
                else if ( numWords === 25)
                    {
                        messageValid = true;
                        document.getElementById("theTextArea").disabled = true;
                    }

                else if (numWords === 0)
                    {
                        messageValid = false;
                    }
                else
                    {
                        messageValid = true;
                    }
            }
            //Function for start used to get inputs
            function start()
            {
                document.getElementById("Submitbutton").addEventListener("click",buttonClicked);
                output = document.getElementById("studIDresults");
                document.getElementById("theTextArea").addEventListener("keydown", keyPressed);
                document.getElementById("studID").addEventListener("keydown", keyPressed);
                document.getElementById("username").addEventListener("keydown", keyPressed);
                document.getElementById("password").addEventListener("keydown", keyPressed);
                document.getElementById("startSemester").addEventListener("keydown", keyPressed);
                document.getElementById("startYear").addEventListener("keydown", keyPressed);
            
                theBody = document.getElementById("theBody");
            }

            window.addEventListener("load",start);  // initialize function when page loads
        </script>
    </head>

    <body id = "theBody">
        <form method ="get">
            <label for="username">Username: <input type="text" id="username" name ="username"><br></label><br>
            
            <label for="password">Password:  <input type="password" id="password" name ="password"><br></label><br>
            
            <label for="studID">Student ID: <input type="text" id="studID" name ="studID"><br></label><br>

            <label>Start Semester: <input  type = "text" id="startSemester"></input><br><br>Start Year: <input  type = "text" id="startYear"></input><br></label><br>

            <label>Enter Message Here: <textarea id="theTextArea"></textarea><br></label><br>

            <button type="button" id="Submitbutton" name="button">Submit</button>
        </form>
        <hr>
        <strong><div id="totalResults"></div></strong><br>
        <div id="studIDresults"></div><br>
        <div id="usernameResults"></div><br>
        <div id="passwordResults"></div><br>
        <div id="semesterResults"></div><br>
        <div id="startYearResults"></div><br>
    </body>
</html>