<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Lab 2</title>
        <link rel="stylesheet" href="lab2.css">
        <!--Style Starts-->
        <style>
            body{
                text-align: center;
            }
            form{
                padding-top: 10%;
                padding-left:40%;
                padding-right:10%;
                display: inline-block;
                margin-left: auto;
                margin-right: auto;
            }
            .form{
                display: block;
                text-align: left;
            }
            .bgred {
                background-color: #fe4e4e;
            }
            .bgnone{
                background-color: #ffffff;
            }
        </style>
        <!--Style Ends-->

        <!--Script Starts-->
        <script>
            var output;
            
            //form submission time
            function buttonClicked()
            {
                var theBody = document.getElementById("theBody");

                var MessageResults = document.getElementById("MessageResults");
                var studIDresults = document.getElementById("studIDresults");

                //Username
                //determine if text only contains only lower-case letters
                var valusername = document.getElementById("username").value;
                var validusername = false;
                for (var i = 0; i < valusername.length; i++)
                {                                                  //how to make spaces not count as lower case letters ??
                    if ( valusername.charCodeAt(i) > 96 && valusername.charCodeAt(i) < 123)   //To lower doesnt work used unicode similar to userID from https://www.ssec.wisc.edu/~tomw/java/unicode.html
                    {
                        validusername = true;
                    }
                    else 
                    {
                        validusername = false;
                    }
                }
                
                if (validusername)
                    {
                        usernameResults.innerHTML = "Username Success";
                    }
                    else
                    {
                        usernameResults.innerHTML = "Username Failiure";
                    }
//------------------------------------------------------------------------------------------
                //Password
                //detemine if password contains at least one  upper, lower case letters, and a number if so write success else write failiure
                var valpass = document.getElementById("password").value;
                var validpass = false;
                var validLowerpass = false;
                var validUpperpass = false;
                var validNumpass = false;

                for (var i = 0; i < valpass.length; i++)
                {
                    var passChar = valpass.charAt(i);   //declare variable for each character in studID
                    if (passChar >= '0' && passChar <= '9')  
                    {          
                        validNumpass = true;  
                    }                       
                    else if (passChar >= 'A' && passChar <= 'Z') 
                        {
                            validUpperpass = true;
                        }
                    else if (passChar >= 'a' && passChar <= 'z')
                            {
                                validLowerpass = true;
                            }
                }   

                if (validNumpass && validUpperpass && validLowerpass)
                {
                    validpass = true;
                }
                else
                {
                    validpass = false;
                }

                if (validpass)
                {
                    passwordResults.innerHTML = "Password Success";
                }
                else
                {
                    passwordResults.innerHTML = "Password Failiure";
                }


//------------------------------------------------------------------------------------------   
            //Student ID
            var valstudID = document.getElementById("studID").value;
            var validstudIDLength = false;
                if (valstudID.length === 9) 
                {
                    for (var i = 0; i < valstudID.length; i++) { //declare loop scanning through all studID characters
                    var idChar = valstudID.charAt(i);   //declare variable for each character in studID
                        if (idChar >= '0' && idChar <= '9')  //I tried !isNaN(valstudID.charAt(i) but it would only validate once
                        {                                   //basically copied the keycode keychar example from class and repalced isNaN
                            validstudIDLength = true;
                        }
                        else
                        {
                            validstudIDLength = false;
                            break;
                        }
                    }
                }
                else {
                    validstudIDLength = false;
                }
                //basic loop for if validation is true or false to print out intnernalHTML message
                if (validstudIDLength)
                    {
                        studIDresults.innerHTML = "Student ID Success";
                    }
                    else
                    {
                        studIDresults.innerHTML = "Student ID Failiure";
                    }
//------------------------------------------------------------------------------------------
                //Start Semester and Year
                //if semester starts with "Fall" or "Summer" or "Spring" and ends with 2/4-digit year write success else write failiure
                //Loop method
                //for (var i = 0;)
                var valstartSemester = document.getElementById("startSemester").value;
                var valstartYear = document.getElementById("startYear").value;
                var validSemester = false;
                var validYear = false;

                for (var i = 0; i < valstartSemester.length; i++)
                {
                    if (valstartSemester.length == 4 && valstartSemester.charAt(0) === "F" && valstartSemester.charAt(1) === "a" && valstartSemester.charAt(2) === "l" && valstartSemester.charAt(3) === "l")
                    {
                        validSemester = true;
                    }
                    else if (valstartSemester.length == 6 && valstartSemester.charAt(0) === "S" && valstartSemester.charAt(1) === "u" && valstartSemester.charAt(2) === "m" && valstartSemester.charAt(3) === "m" && valstartSemester.charAt(4) === "e" && valstartSemester.charAt(5) === "r")
                    {
                        validSemester = true; 
                    }
                    else if (valstartSemester.length == 6 && valstartSemester.charAt(0) === "S" && valstartSemester.charAt(1) === "p" && valstartSemester.charAt(2) === "r" && valstartSemester.charAt(3) === "i" && valstartSemester.charAt(4) === "n" && valstartSemester.charAt(5) === "g")
                    {
                        validSemester = true;
                    }
                    else
                    {
                        validSemester = false;
                    }
                }

                if (validSemester)
                {
                    semesterResults.innerHTML = "Semester Success";
                }
                else
                {
                    semesterResults.innerHTML = "Semester Failiure";
                }



                for (var i = 0; i < valstartYear.length; i++)
                {
                    if (valstartYear.length == 4)
                    {
                        if (valstartYear.charAt(0) === '2' && valstartYear.charAt(1) === '0' && valstartYear.charAt(2) <= "2" && valstartYear.charAt(3) <= '3' || valstartYear.length == 4 && valstartYear.charAt(0) === '1' && valstartYear.charAt(1) <= 57 && valstartYear.charAt(2) <= '9' && valstartYear.charAt(3) <= '9' )
                        {
                            validYear = true;
                        }   
                        else
                        {
                        validYear = false;
                        }
                    }
                    else if (valstartYear.length == 2 && valstartYear.charAt(0) === '2' && valstartYear.charAt(1) <= '3' && valstartYear.charAt(1) >= '0' || valstartYear.length == 2 && valstartYear.charAt(0) <= '9' && valstartYear.charAt(0) >= '0'  && valstartYear.charAt(1) <= '9' && valstartYear.charAt(1) >= '0'){
                        validYear = true;
                    }
                    else
                    {
                        validYear = false;
                    }
                }

                if (validYear)
                {
                    startYearResults.innerHTML = "Year Success";
                }
                else
                {
                    startYearResults.innerHTML = "Year Failiure";
                }


//-------------------------------------TOTAL RESULTS----------------------------------------
            //var messageGlobalResult = document.object.getElementById("messageValid").value;
            var valtotalResults = false;
            if (validusername && validstudIDLength && validpass && validSemester && validYear) {
                valtotalResults = true;
            } else {
                valtotalResults = false;
            }

            if (valtotalResults) {
                totalResults.innerHTML = "SUCCESS";
                theBody.setAttribute("class", "bgnone"); //change color of total results if all success
                
            } else {
                totalResults.innerHTML = "FAILURE";
            //change color of total results if any failiure
            theBody.setAttribute("class", "bgred"); //change color of total results if any failiures
            }
     } //end of buttonClicked
//-------------------------------------END of button Clicked Function----------------------------------------

            // Function for Message
            function keyPressed(event)
            {
                var keyCodePressed = event.which || event.keyCode;
                if (keyCodePressed === 8)
                {
                    var MessageResults = document.getElementById("MessageResults");

                }
                //Message Area
                var currText = document.getElementById("theTextArea").value;
                var words = currText.split(" ");
                var numWords = words.length;
                document.getElementById("numwords").innerHTML = numWords;
                var messageValid
                if (numWords > 25 || numWords < 1)
                    {
                         messageValid = false;
                         document.getElementById("theTextArea").disabled = true;
                    }
                else if ( numWords === 25)
                    {
                        messageValid = true;
                        document.getElementById("theTextArea").disabled = true;
                    }

                else if (numWords === 0)
                    {
                        messageValid = false;
                    }
                else
                    {
                        messageValid = true;
                    }
                    //message validity check
                if (messageValid)
                    {
                        TextAreaResults.innerHTML = "Message Success";
                        console.log(numwords);
                    }
                else
                    {
                        TextAreaResults.innerHTML = "Message Failiure";
                        console.log(numwords);
                    }


                //StudID Area
                /*
                var currId = document.getElementById("studID").value;
                var ids = currId.split(" ");
                var numIds = ids.length;
                document.getElementById("numids").innerHTML = numIds;
                */
            }

            //Function for start
            function start()
            {
                document.getElementById("Submitbutton").addEventListener("click",buttonClicked);
                output = document.getElementById("studIDresults");
                document.getElementById("theTextArea").addEventListener("keydown", keyPressed);
                document.getElementById("studID").addEventListener("keydown", keyPressed);
                document.getElementById("username").addEventListener("keydown", keyPressed);
                document.getElementById("password").addEventListener("keydown", keyPressed);
                document.getElementById("startSemester").addEventListener("keydown", keyPressed);
                document.getElementById("startYear").addEventListener("keydown", keyPressed);
            
                theBody = document.getElementById("theBody");
            }

            window.addEventListener("load",start);  // initialize function when page loads
        </script>
        <!--script ends-->
    </head>

    <body id = "theBody">
         <!--<form class = "form" method ="get">-->
        <form method ="get">
            <label for="username">Username: <input type="text" id="username" name ="username"><br></label><br>
            
            <label for="password">Password:  <input type="password" id="password" name ="password"><br></label><br>
            
            <label for="studID">Student ID: <input type="text" id="studID" name ="studID"><br></label><br>

            <label>Start Semester: <input  type = "text" id="startSemester"></input><br><br>Start Year: <input  type = "text" id="startYear"></input><br></label><br>

            <label>Enter Message Here: <textarea id="theTextArea"></textarea><br></label><br>

            <button type="button" id="Submitbutton" name="button">Submit</button>
        </form>
        <hr>
        <strong>Result (S or F)</strong><br><br>
        <div id="MessageResults"></div> <div id ="TextAreaResults"></div><br>
        <div id="studIDresults"></div><br>
        <div id="usernameResults"></div><br>
        <div id="passwordResults"></div><br>
        <div id="semesterResults"></div><br>
        <div id="startYearResults"></div><br>

        <hr>
        Number of message words: <span id="numwords"></span>
        <br> <br>

        <hr>
        <strong>All forms Results<br><div id="totalResults"></div></strong>
    </body>
</html>